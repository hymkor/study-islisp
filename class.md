クラス
=====

普通のオブジェクト指向では、(インスタンス) → (メソッド) という語順でメソッドを呼び出すが、ISLIsp では直接呼び出せるのは、あくまで関数だけなので (インスタンスジ名) → (レシーバ名) という語順になる

そうすると、メッセージ名がクラスの名前空間の中に格納、クラス間でメソッド名が衝突する問題が発生する。

これを解決するために、包括関数というものが、導入されている。

包括関数(generic function)
--------------------------

実質、C++ で言うところの関数名の多重定義 (オーバーロード) にすぎない。
関数名を多重定義させるには `(defgeneric)` 関数でまず宣言を行う。
( 昔、C++ に一時期あったが、廃止された overload 宣言を連想させられる )

`(defgeneric 包括関数名 パラメータリスト …)`

- 関数名はグローバルに予約される
- パラメータリストは `(defun)` などと同じ
- 細かいオプションもあるが、ここでは省略する

個別のメソッド定義は次のとおり

`(defmethod 包括関数名 修飾子... ((引数名 型) (引数名 型)...) メソッド本体…)`

- `(引数名 型)` は、`引数名` だけも可能。`:rest 識別子` という指定もあり
- 修飾子は0個以上の識別子、もしくは、`:before`,`:after`,`:around` などのキーワード。
    引数以外の一致判定に使われる

メソッドの一致条件

1. パラメータの個数が同じ
2. 全てのパラメータの型が一致
3. 修飾子があれば、修飾子が一致

